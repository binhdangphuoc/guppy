{"remainingRequest":"/home/binh/Binh/giaodien/guppy/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/binh/Binh/giaodien/guppy/src/components/admin/ModifyGuppy.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/binh/Binh/giaodien/guppy/src/components/admin/ModifyGuppy.vue","mtime":1635408805564},{"path":"/home/binh/Binh/giaodien/guppy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/binh/Binh/giaodien/guppy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/binh/Binh/giaodien/guppy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/binh/Binh/giaodien/guppy/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIk1vZGlmeUd1cHB5IiwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbW9kaWZ5OiAxLAogICAgICAgIG5hbWVGaWx0ZXI6ICIiLAogICAgICAgIHNlbmREYXRhOiBmYWxzZSwKICAgICAgICBhcnJheV9lZGl0OiBbXSwKICAgICAgICBlZGl0aW5nOiBmYWxzZSwKICAgICAgICBzaG93OiAiaW5mbyIsCiAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAuLi5tYXBTdGF0ZSh7CiAgICAgICAgbGlzdEd1cHB5SW5mbzogKHN0YXRlKSA9PiBzdGF0ZS5hZG1pbi5saXN0X2d1cHB5X2luZm8sCiAgICAgICAgbGlzdEd1cHB5SW5mb1Jvb3Q6IChzdGF0ZSkgPT4gc3RhdGUuYWRtaW4ubGlzdF9ndXBweV9pbmZvX3Jvb3QsCiAgICAgICAgaGFzX2Vycm9yOiAoc3RhdGUpID0+IHN0YXRlLmFkbWluLmVycm9yX3NlbmRpbmcsCiAgICAgICAgcmVzdWx0U2VuZDogKHN0YXRlKSA9PiBzdGF0ZS5hZG1pbi5yZXN1bHRTZW5kaW5nLAogICAgICB9KQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgIHRoaXMuZ2V0TGlzdEd1cHB5SW5mbygpOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgYXN5bmMgZ2V0TGlzdEd1cHB5SW5mbygpIHsKICAgICAgICB0aGlzLnNlbmREYXRhID0gdHJ1ZTsKCiAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldExpc3RHdXBweUluZm8iLCB0aGlzLm5hbWVGaWx0ZXIpOwogICAgICAgIGNvbnNvbGUubG9nKCJhd2FpdCBlcnJvcjogIix0aGlzLmhhc19lcnJvcikKICAgICAgICBpZih0aGlzLmhhc19lcnJvciA9PSBudWxsKSB0aGlzLnNlbmREYXRhID0gZmFsc2U7CiAgICAgIH0sCiAgICAgIGNhbmNlbFNlbmRpbmcoKSB7CiAgICAgICAgY29uc29sZS5sb2coImNhbmNlbCIpOwogICAgICAgIHRoaXMuc2VuZERhdGEgPSBmYWxzZTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgicmVzZXRTdGF0ZSIpOwogICAgICB9LAoKICAgICAgdGVzdCgpIHsKICAgICAgICBjb25zb2xlLmxvZygibGlzdCBjaGFuZ2U6ICIsdGhpcy5saXN0R3VwcHlJbmZvWzBdKQogICAgICAgIGNvbnNvbGUubG9nKCJsaXN0IHJvb3Q6ICIsdGhpcy5saXN0R3VwcHlJbmZvUm9vdFswXSkKCgogICAgICB9LAogICAgICBlZGl0KGluZGV4KSB7CiAgICAgICAgaWYodGhpcy5hcnJheV9lZGl0W2luZGV4XSA9PSB0cnVlKSB0aGlzLmFycmF5X2VkaXRbaW5kZXhdID0gZmFsc2U7CiAgICAgICAgZWxzZSBpZih0aGlzLmFycmF5X2VkaXRbaW5kZXhdID09IGZhbHNlKSB0aGlzLmFycmF5X2VkaXRbaW5kZXhdID0gdHJ1ZTsKICAgICAgICBlbHNlIHRoaXMuYXJyYXlfZWRpdFtpbmRleF0gPSB0cnVlOwogICAgICAgIGNvbnNvbGUubG9nKCJhcnJheV9pbmRleFsiLGluZGV4LCJdIix0aGlzLmFycmF5X2VkaXRbaW5kZXhdKTsKICAgICAgICB0aGlzLmVkaXRpbmcgPSAhdGhpcy5lZGl0aW5nOwoKICAgICAgfSwKICAgICAgZWRpdGVkKGluZGV4KSB7CiAgICAgICAgICBpZihKU09OLnN0cmluZ2lmeSh0aGlzLmxpc3RHdXBweUluZm9baW5kZXhdKSAhPSBKU09OLnN0cmluZ2lmeSh0aGlzLmxpc3RHdXBweUluZm9Sb290W2luZGV4XSkpIHsKICAgICAgICAgICAgaWYoY29uZmlybSgiRG9uJ3Qgc2F2ZT8iKSkgewogICAgICAgICAgICAgIHRoaXMuY2FuY2VsRWRpdChpbmRleCk7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZWRpdChpbmRleCk7CiAgICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNhbmNlbEVkaXQoaW5kZXgpIHsKICAgICAgICBsZXQgb2xkID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmxpc3RHdXBweUluZm9Sb290W2luZGV4XSkpCiAgICAgICAgdGhpcy5saXN0R3VwcHlJbmZvLnNwbGljZShpbmRleCwgMCwgb2xkKTsKICAgICAgICBjb25zb2xlLmxvZygib2xkOiAiLCBvbGQpCiAgICAgICAgY29uc29sZS5sb2coInNhdSBraGkgcmVzZXQ6ICIsIHRoaXMubGlzdEd1cHB5SW5mb1tpbmRleF0pCiAgICAgICAgLy8gdGhpcy5saXN0R3VwcHlJbmZvW2luZGV4XSA9IHRoaXMubGlzdEd1cHB5SW5mb1Jvb3RbaW5kZXhdOwogICAgICAgIHRoaXMuZWRpdChpbmRleCk7CiAgICAgIH0sCiAgICAgIGFzeW5jIHJlbW92ZShpbmRleCkgewogICAgICAgIGNvbnNvbGUubG9nKCJyZW1vdmUgIiwgaW5kZXgpCiAgICAgICAgdGhpcy5zZW5kRGF0YSA9IHRydWUKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgicmVtb3ZlR3VwcHkiLCBpbmRleCkKICAgICAgICBpZih0aGlzLnJlc3VsdFNlbmQgPT0gMCB8fCB0aGlzLmhhc19lcnJvciAhPSBudWxsKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZW5kRGF0YSA9IGZhbHNlCgogICAgICAgIH0KICAgICAgfSwKICAgICAgIGFzeW5jIHVwZGF0ZShnKSB7CiAgICAgICAgIHRoaXMuc2VuZERhdGEgPSB0cnVlCiAgICAgICAgY29uc29sZS5sb2coInVwZGF0ZSAiLCBKU09OLnN0cmluZ2lmeShnKSkKICAgICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBkYXRlR3VwcHkiLCBKU09OLnN0cmluZ2lmeShnKSkKICAgICAgICBpZih0aGlzLnJlc3VsdFNlbmQgPT0gMCB8fCB0aGlzLmhhc19lcnJvciAhPSBudWxsKSB7CgogICAgICAgICAgcmV0dXJuCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VuZERhdGEgPSBmYWxzZQoKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgp9Cg=="},{"version":3,"sources":["ModifyGuppy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"ModifyGuppy.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n  <div class=\"modify-guppy\">\n      <div class=\"filter-bar\">\n        <label >name</label>\n        <input type=\"text\" v-model=\"nameFilter\" placeholder=\"enter name to filter\">\n        <button @click=\"getListGuppyInfo\">Filter</button>\n      </div>\n      <div class=\"select-change\">\n        <button @click=\"show = 'info'\" :class=\"{'active': show == 'info'}\">Guppy info</button>\n        <button @click=\"show = 'detail'\" :class=\"{'active': show == 'detail'}\">Guppy detail</button>\n        <button @click=\"show = 'quantity'\" :class=\"{'active': show == 'quantity'}\">Guppy detail</button>\n      </div>\n      <div class=\"show-guppy-info\" v-show=\"show == 'info' || show == 'quantity'\">\n        <div class=\"guppy-info\" v-for=\"(guppy, index) in listGuppyInfo\" :key=\"index\">\n          <div v-show=\"editing\" class=\"editing\">Editting</div>\n          <div class=\"row-1\">\n            <div class=\"modify-name\" >\n              <label class=\"title\">Name:</label>\n              <label class=\"big\" v-show=\"!array_edit[index]\" >{{ guppy.name }}</label>\n              <input class=\"big\" v-show=\"array_edit[index]\" type=\"text\" v-model=\"guppy.name\">\n            </div>\n            <div class=\"numbers\">\n              <div class=\"modify-number\">\n                <label class=\"title\">Price:</label>\n                <label v-show=\"!array_edit[index]\">{{ guppy.price }}</label>\n                <input v-show=\"array_edit[index]\" type=\"number\" step=\"0.01\" v-model=\"guppy.price\">\n              </div>\n              <div class=\"modify-number\">\n                <label class=\"title\">Sale:</label>\n                <label v-show=\"!array_edit[index]\">{{ guppy.sale }}</label>\n                <input v-show=\"array_edit[index]\" type=\"number\" step=\"0.01\" v-model=\"guppy.sale\">\n              </div>\n              <div class=\"modify-number\">\n                <label class=\"title\">In stock:</label>\n                <label v-show=\"show == 'info'\">{{ guppy.status }}</label>\n\n              </div>\n            </div>\n          </div>\n\n          <div class=\"row-2\">\n            <div class=\"modify-describe\">\n              <label class=\"title\">Describe:</label>\n              <label v-show=\"!array_edit[index]\">{{ guppy._describe }}</label>\n\n              <textarea v-show=\"array_edit[index]\" v-model=\"guppy._describe\"></textarea>\n            </div>\n          </div>\n\n          <div class=\"row-3\">\n            <div class=\"modify-image\">\n              <label class=\"title\">Image:</label>\n              <img :src=\"guppy.image\" alt=\"image\">\n              <label v-show=\"!array_edit[index]\">{{ guppy.image }}</label>\n              <input v-show=\"array_edit[index]\" type=\"text\" v-model=\"guppy.image\">\n            </div>\n          </div>\n\n          <div class=\"row-4\">\n            <button v-show=\"!array_edit[index]\" @click=\"edit(index)\">edit</button>\n            <button v-show=\"array_edit[index]\" @click=\"edited(index)\">edited</button>\n            <button @click=\"remove(index)\">remove</button>\n            <button @click=\"update(guppy)\">save</button>\n          </div>\n\n        </div>\n      </div>\n      <button @click=\"test\">test</button>\n      <div class=\"container-dialog\" v-if=\"sendData\">\n        <div class=\"dialog\">\n          <p v-show=\"has_error==null\" class=\"msg-sending\">Sending</p>\n          <p v-show=\"has_error != null\"> {{ has_error }}</p>\n          <img v-show=\"has_error==null\" class=\"image-sending\" src=\"../../assets/onload.jpg\">\n          <img v-show=\"has_error!=null\" src=\"../../assets/error.jpg\">\n\n          <button v-show=\"has_error==null\" class=\"dialog-click\" @click=\"cancelSending\">cancel</button>\n          <button v-show=\"has_error!=null\" class=\"dialog-click\"  @click=\"cancelSending\">Error</button>\n        </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n    name: \"ModifyGuppy\",\n    data() {\n      return {\n        modify: 1,\n        nameFilter: \"\",\n        sendData: false,\n        array_edit: [],\n        editing: false,\n        show: \"info\",\n      }\n    },\n    computed: {\n      ...mapState({\n        listGuppyInfo: (state) => state.admin.list_guppy_info,\n        listGuppyInfoRoot: (state) => state.admin.list_guppy_info_root,\n        has_error: (state) => state.admin.error_sending,\n        resultSend: (state) => state.admin.resultSending,\n      })\n    },\n    mounted() {\n      this.getListGuppyInfo();\n    },\n    methods: {\n      async getListGuppyInfo() {\n        this.sendData = true;\n\n        await this.$store.dispatch(\"getListGuppyInfo\", this.nameFilter);\n        console.log(\"await error: \",this.has_error)\n        if(this.has_error == null) this.sendData = false;\n      },\n      cancelSending() {\n        console.log(\"cancel\");\n        this.sendData = false;\n        this.$store.dispatch(\"resetState\");\n      },\n\n      test() {\n        console.log(\"list change: \",this.listGuppyInfo[0])\n        console.log(\"list root: \",this.listGuppyInfoRoot[0])\n\n\n      },\n      edit(index) {\n        if(this.array_edit[index] == true) this.array_edit[index] = false;\n        else if(this.array_edit[index] == false) this.array_edit[index] = true;\n        else this.array_edit[index] = true;\n        console.log(\"array_index[\",index,\"]\",this.array_edit[index]);\n        this.editing = !this.editing;\n\n      },\n      edited(index) {\n          if(JSON.stringify(this.listGuppyInfo[index]) != JSON.stringify(this.listGuppyInfoRoot[index])) {\n            if(confirm(\"Don't save?\")) {\n              this.cancelEdit(index);\n              return\n            } else {\n              return\n            }\n          } else {\n            this.edit(index);\n          }\n      },\n      cancelEdit(index) {\n        let old = JSON.parse(JSON.stringify(this.listGuppyInfoRoot[index]))\n        this.listGuppyInfo.splice(index, 0, old);\n        console.log(\"old: \", old)\n        console.log(\"sau khi reset: \", this.listGuppyInfo[index])\n        // this.listGuppyInfo[index] = this.listGuppyInfoRoot[index];\n        this.edit(index);\n      },\n      async remove(index) {\n        console.log(\"remove \", index)\n        this.sendData = true\n        await this.$store.dispatch(\"removeGuppy\", index)\n        if(this.resultSend == 0 || this.has_error != null) {\n          return\n        } else {\n          this.sendData = false\n\n        }\n      },\n       async update(g) {\n         this.sendData = true\n        console.log(\"update \", JSON.stringify(g))\n        await this.$store.dispatch(\"updateGuppy\", JSON.stringify(g))\n        if(this.resultSend == 0 || this.has_error != null) {\n\n          return\n        } else {\n          this.sendData = false\n\n        }\n      }\n    },\n\n}\n</script>\n\n<style>\ninput {\n  font-size: 1rem;\n  height: 2rem;\n}\ninput:focus {\n  outline: none;\n  background: yellow;\n  font-size: 1rem;\n}\n.title {\n  font-weight: bold;\n}\n.modify-guppy {\n  width: 100%;\n  height: auto;\n  padding-top: 2rem;\n  padding-bottom: 2rem;\n  background: white;\n  display: flex;\n  flex-direction: column;\n}\n.modify-guppy .filter-bar {\n  width: 100%;\n  height: 5rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  background: yellow;\n}\n.modify-guppy .filter-bar >*{\n  margin: 0 .5rem;\n}\n.modify-guppy .filter-bar label {\n  font-size: 2rem;\n  font-style: italic;\n}\n.modify-guppy .filter-bar input {\n  width: 20rem;\n  height: 3rem;\n  border-radius: 5px;\n}\n\n.modify-guppy .filter-bar button {\n  width: 5rem;\n  height: 2rem;\n  background: yellow;\n}\nbutton:hover {\n  background: green;\n  transform: scale(1.1);\n}\n\n.modify-guppy .select-change {\n  width: 100%;\n  height: 5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.modify-guppy .select-change button {\n  width: 10rem;\n  height: 3rem;\n  margin: 0 1rem;\n  background: white;\n  border-radius: .5rem;\n}\n.modify-guppy .select-change button.active {\n  background: red;\n}\n\n.modify-guppy .show-guppy-info {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: start;\n}\n.modify-guppy .show-guppy-info .guppy-info {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  height: 15rem;\n  margin-bottom: .5rem;\n  background: rgb(212, 250, 155);\n}\n.modify-guppy .show-guppy-info .guppy-info .row-3 {\n  width: 10rem;\n  height: 15rem;\n}\n.row-3 .modify-image {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.row-3 .modify-image >* {\n  width: 100%;\n  overflow: hidden;\n  height: 2rem;\n  line-height: 2rem;\n  font-size: 1rem;\n}\n.row-3 .modify-image img {\n  height: 10rem;\n}\n.modify {\n  width: 100%;\n  height: 3rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.modify >* {\n  margin: 0 .5rem;\n}\n\n.modify-guppy .show-guppy-info .guppy-info .row-2 {\n  width: 10rem;\n  height: 15rem;\n  display: flex;\n}\n.row-2 .modify-describe {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.row-2 .modify-describe:first-child {\n  width: 100%;\n  height: 2rem;\n  line-height: 2rem;\n  font-size: 1rem;\n}\n.row-2 .modify-describe textarea {\n  width: 100%;\n  min-height: 13rem;\n  background: yellow;\n}\n\n\n.modify-guppy .show-guppy-info .guppy-info .row-1 {\n  width: 20rem;\n  height: 15rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 0 .5rem;\n}\n.row-1 .modify-name {\n  height: 10rem !important;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  padding-bottom: 2rem;\n}\n.row-1 .modify-name .title {\n  width: 100%;\n  height: 2rem;\n  line-height: 2rem;\n  font-size: 1rem;\n  align-self: flex-start;\n}\n.row-1 .modify-name .big{\n  height: 6rem;\n  width: 100%;\n  font-size: 1.5rem;\n  line-height: 3rem;\n\n}\n.row-1 .numbers {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 5rem;\n}\n.row-1 .numbers .modify-number {\n  width: 5rem;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  margin: .5rem;\n}\n.row-1 .numbers .modify-number >* {\n  height: 2rem;\n  width: 4rem;\n}\n\n.modify-guppy .show-guppy-info .guppy-info .row-4 {\n  width: 5rem;\n  height: 15rem;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  margin: 0 1rem;\n}\n.row-4 button {\n  width: 5rem;\n  height: 2rem;\n  font-size: 1.2rem;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n\n}\n.row-4 button:nth-child(1) {\n  background: yellow;\n}\n.row-4 button:nth-child(2) {\n  background: red;\n}\n.row-4 button:nth-child(3) {\n  background: green;\n}\n\n.editing {\n  position: absolute;\n  left: -10000px;\n}\n</style>"]}]}